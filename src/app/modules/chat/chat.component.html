<div class="chat">
  <div class="slds-grid slds-wrap">
    <div class="slds-col slds-size_1-of-1">
      <h2 class="slds-text-heading_medium">Instant Chat</h2>
      <hr />
    </div>
    <div class="slds-col slds-size_1-of-2">
      <div class="slds-form-element">
        <label class="slds-form-element__label" for="username">Username</label>
        <div class="slds-form-element__control">
          <input
            type="text"
            [(ngModel)]="user"
            class="slds-input"
            id="username"
            placeholder="Enter username"
          />
        </div>
      </div>
      <div class="slds-grid slds-grid_vertical-align-center slds-m-top_medium">
        <button
          class="slds-button slds-button_neutral"
          (click)="toggleRoom('chat')"
        >
          Join Chat Room
        </button>
        <button
          class="slds-button slds-button_outline-brand slds-m-left_xx-small"
          (click)="toggleRoom('')"
        >
          Leave Room
        </button>
      </div>
    </div>
    <div class="slds-col slds-size_1-of-2">
      <div
        class="slds-box slds-theme_default"
        style="height: 200px; padding: 15px"
      >
        <ul class="slds-list_unordered">
          <li *ngFor="let user of userList">{{ user }}</li>
        </ul>
      </div>
    </div>
    <div class="slds-col slds-size_1-of-1 slds-m-top_medium">
      <div
        class="slds-box slds-theme_default"
        style="height: 200px; padding: 15px"
      >
        <ng-template ngFor let-message [ngForOf]="messageArray">
          <div *ngIf="message.user === ''">
            <div class="slds-text-body_regular">{{ message.message }}</div>
          </div>
          <div *ngIf="message.user !== ''">
            <div class="slds-text-title_caps">
              <strong>{{ message.user }}:</strong>
            </div>
            <div class="slds-text-body_regular">{{ message.message }}</div>
          </div>
        </ng-template>
      </div>
    </div>
    <div class="slds-col slds-size_1-of-1 slds-m-top_medium">
      <div class="slds-form slds-form_stacked">
        <div class="slds-form-element">
          <label class="slds-form-element__label" for="message">Message</label>
          <div class="slds-form-element__control">
            <input
              type="text"
              class="slds-input"
              [(ngModel)]="messageText"
              [disabled]="!room"
              id="message"
            />
          </div>
        </div>
        <div class="slds-form-element">
          <button
            class="slds-button slds-button_brand"
            [disabled]="!room"
            (click)="sendMessage()"
          >
            Send
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
